# BlindInsight AI - 아키텍처 시각화 문서

## 🎯 시스템 개요

BlindInsight AI는 **LangGraph StateGraph**를 중심으로 한 멀티 에이전트 오케스트레이션 시스템입니다.

```
┌─────────────────────────────────────────────────────────────────┐
│                    BlindInsight AI Platform                     │
├─────────────────────────────────────────────────────────────────┤
│  Streamlit UI → LangGraph Workflow → Multi-Agent → RAG+MCP     │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 1. LangGraph StateGraph 워크플로우

### 순차 실행 모드 (Sequential)
```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   Input     │───▶│   Culture   │───▶│Compensation │───▶│   Growth    │
│ Validation  │    │  Analysis   │    │  Analysis   │    │  Analysis   │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
                                                                  │
┌─────────────┐    ┌─────────────┐    ┌─────────────┐             │
│    END      │◀───│   Report    │◀───│  Synthesis  │◀──────────── │
│             │    │ Generation  │    │             │             │
└─────────────┘    └─────────────┘    └─────────────┘             ▼
                                           ▲                ┌─────────────┐
                                           └────────────────│   Career    │
                                                           │  Analysis   │
                                                           └─────────────┘
```

### 병렬 실행 모드 (Parallel)
```
┌─────────────┐    
│   Input     │    
│ Validation  │    
└──────┬──────┘    
       │           
       ▼           
┌─────────────────────────────────────┐
│          Parallel Analysis          │
│ ┌─────────┐ ┌─────────┐ ┌─────────┐ │
│ │Culture  │ │Compen   │ │Growth   │ │
│ │Analysis │ │Analysis │ │Analysis │ │
│ └─────────┘ └─────────┘ └─────────┘ │
└──────────────┬──────────────────────┘
               ▼
┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│   Career    │───▶│  Synthesis  │───▶│   Report    │───▶│    END      │
│  Analysis   │    │             │    │ Generation  │    │             │
└─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
```

## 🏗️ 2. 에이전트 아키텍처 (계층별)

```
┌─────────────────────────────────────────────────────────────────┐
│                          UI Layer                               │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────────┐ │
│  │  Streamlit  │ │  3-Tab      │ │     AI Analysis UI          │ │
│  │  Frontend   │ │ Interface   │ │                             │ │
│  └─────────────┘ └─────────────┘ └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────┐
│                      Workflow Layer                             │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────────┐ │
│  │ LangGraph   │ │ Workflow    │ │    Node Orchestration       │ │
│  │ StateGraph  │ │   State     │ │                             │ │
│  └─────────────┘ └─────────────┘ └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Agent Layer                               │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────┐ ┌─────────────────┐ │
│  │   Culture   │ │Compensation │ │ Growth  │ │     Career      │ │
│  │   Agent     │ │   Agent     │ │ Agent   │ │     Agent       │ │
│  └─────────────┘ └─────────────┘ └─────────┘ └─────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Base Layer                                │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────────┐ │
│  │ BaseAgent   │ │   Agent     │ │    Error Handling          │ │
│  │   (ABC)     │ │Orchestrator │ │                             │ │
│  └─────────────┘ └─────────────┘ └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Data Layer                                │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────────┐ │
│  │    RAG      │ │    MCP      │ │     Vector Search           │ │
│  │ (ChromaDB)  │ │ Providers   │ │                             │ │
│  └─────────────┘ └─────────────┘ └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                    │
                                    ▼
┌─────────────────────────────────────────────────────────────────┐
│                     External Layer                              │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────┐ ┌─────────────────┐ │
│  │  OpenAI     │ │  Blind.com  │ │   Job   │ │    News APIs    │ │
│  │   GPT-4     │ │     API     │ │  Sites  │ │                 │ │
│  └─────────────┘ └─────────────┘ └─────────┘ └─────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 📊 3. 데이터 흐름도

### 전체 데이터 처리 흐름
```
┌─────────────┐         ┌─────────────┐         ┌─────────────┐
│    User     │────────▶│   Input     │────────▶│   Agent     │
│   Input     │         │ Validation  │         │ Execution   │
└─────────────┘         └─────────────┘         └──────┬──────┘
                                                       │
┌─────────────┐         ┌─────────────┐                │
│    RAG      │────────▶│ Knowledge   │────────────────┘
│ Vector DB   │         │ Retrieval   │
└─────────────┘         └─────────────┘

┌─────────────┐         
│    MCP      │────────────────────────────────────────┐
│ Providers   │                                        │
└─────────────┘                                        │
                                                       │
┌─────────────┐                                        │
│ External    │────────────────────────────────────────┤
│   APIs      │                                        │
└─────────────┘                                        ▼
                        ┌─────────────┐         ┌─────────────┐
                        │   Result    │◀────────│   Report    │
                        │ Synthesis   │         │ Generation  │
                        └─────────────┘         └─────────────┘
                               │                        │
                               ▼                        ▼
                        ┌─────────────┐         ┌─────────────┐
                        │   Final     │         │   Visual    │
                        │   Output    │         │ Dashboard   │
                        └─────────────┘         └─────────────┘
```

### RAG + MCP 통합 처리
```
Agent Query
     │
     ▼
┌─────────────────────────────────────────┐
│            Parallel Data Fetch          │
│                                         │
│  ┌─────────────┐    ┌─────────────────┐ │
│  │    RAG      │    │      MCP        │ │
│  │             │    │                 │ │
│  │ ┌─────────┐ │    │ ┌─────────────┐ │ │
│  │ │Culture  │ │    │ │BlindData    │ │ │
│  │ │Reviews  │ │    │ │Provider     │ │ │
│  │ └─────────┘ │    │ └─────────────┘ │ │
│  │             │    │                 │ │
│  │ ┌─────────┐ │    │ ┌─────────────┐ │ │
│  │ │Salary   │ │    │ │JobSite      │ │ │
│  │ │Data     │ │    │ │Provider     │ │ │
│  │ └─────────┘ │    │ └─────────────┘ │ │
│  │             │    │                 │ │
│  │ ┌─────────┐ │    │ ┌─────────────┐ │ │
│  │ │Career   │ │    │ │News         │ │ │
│  │ │Advice   │ │    │ │Provider     │ │ │
│  │ └─────────┘ │    │ └─────────────┘ │ │
│  └─────────────┘    └─────────────────┘ │
└─────────────────────────────────────────┘
     │                          │
     ▼                          ▼
┌─────────┐              ┌─────────────┐
│ Vector  │              │ API Response│
│Documents│              │    Data     │
└─────────┘              └─────────────┘
     │                          │
     └─────────┬──────────────────┘
               ▼
        ┌─────────────┐
        │ LLM Analysis│
        │  (GPT-4)    │
        └─────────────┘
               │
               ▼
        ┌─────────────┐
        │ Structured  │
        │   Result    │
        └─────────────┘
```

## 🖥️ 4. 사용자 인터페이스 구조 (3탭 방식)

### 메인 화면 구조
```
┌─────────────────────────────────────────────────────────────────┐
│                    BlindInsight AI                              │
├─────────────────────────────────────────────────────────────────┤
│  🔍 [회사명 입력: 예) 금호석유화학]                    [검색]     │
└─────────────────────────────────────────────────────────────────┘
                               │
                               ▼
┌─────────────────────────────────────────────────────────────────┐
│  [📋 커뮤니티] [ℹ️ 회사 정보] [🤖 AI 분석]                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  선택된 탭의 내용이 여기에 표시됩니다                              │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 각 탭별 상세 구조

#### 📋 커뮤니티 탭
```
┌─────────────────────────────────────────────────────────┐
│               커뮤니티 글 모음                            │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  📝 [제목: 금호석유화학 울산 보건관리자 채용 문의]        │
│      [내용: 현직들 울산공장 보건관리자...]               │
│      ❤️3  💬1  👀56  ⏰3일전                          │
│                                                         │
│  📝 [제목: 금고석유화학 부산]                           │
│      [내용: 안녕하세요 금호석유화학 부산 ts 포지션...]     │
│      ❤️1  💬1  👀341  ⏰1주전                         │
│                                                         │
│  [더 많은 글...]                                        │
└─────────────────────────────────────────────────────────┘
```

#### ℹ️ 회사 정보 탭
```
┌─────────────────────────────────────────────────────────┐
│                  기본 정보                               │
│  📊 업종: 화학                                           │
│  📅 설립연도: 1976년                                     │
│  👥 직원수: 약 3,000명                                   │
│  🏢 본사위치: 서울특별시                                  │
├─────────────────────────────────────────────────────────┤
│                  평점 현황                               │
│  ⭐ 전체 평점: 3.2/5.0                                   │
│  💰 급여 만족도: 3.1/5.0                                 │
│  🎁 복지 만족도: 3.0/5.0                                 │
│  ⚖️ 워라밸: 3.5/5.0                                     │
├─────────────────────────────────────────────────────────┤
│                  최근 리뷰                               │
│  ⭐4 - 안정적인 대기업                                   │
│       "화학업계의 안정적인 대기업이라..."                  │
│                                                         │
│  ⭐3 - 전통적인 조직문화                                 │
│       "보수적인 조직문화가 있지만..."                      │
└─────────────────────────────────────────────────────────┘
```

#### 🤖 AI 분석 탭 (핵심 기능)
```
┌─────────────────────────────────────────────────────────┐
│                   AI 분석                               │
├─────────────────────────────────────────────────────────┤
│  분석 항목 선택:                                         │
│  ☑️ 문화 분석    ☑️ 연봉 분석                           │
│  ☐ 성장성 분석  ☐ 커리어 분석  ☐ 리스크 분석            │
│                                                         │
│  [🔍 AI로 분석하기] ← 핵심 기능 실행                    │
│                                                         │
│  💡 AI가 커뮤니티 글, 리뷰, 뉴스 등을 종합 분석하여      │
│     인사이트를 제공합니다.                                │
├─────────────────────────────────────────────────────────┤
│                 분석 결과 표시 영역                       │
│                                                         │
│  🎯 종합 점수: 3.2/5.0                                  │
│                                                         │
│  🏢 문화 분석                                           │
│  ├─ 요약: 전통적이고 안정적인 조직문화...                │
│  ├─ ✅ 강점: 안정성, 복리후생, 워라밸                   │
│  ├─ ⚠️ 약점: 보수적 문화, 혁신 부족                    │
│  └─ 점수: 3.2/5.0                                       │
│                                                         │
│  💰 연봉 분석                                           │
│  ├─ 요약: 업계 평균 수준이며, 복리후생 좋음              │
│  ├─ 📊 [연봉 차트 표시]                                 │
│  ├─ 🎁 복리후생: 4대보험, 퇴직금, 성과급 등              │
│  └─ 점수: 3.1/5.0                                       │
└─────────────────────────────────────────────────────────┘
```

### AI 분석 내부 처리 흐름
```
[🔍 AI로 분석하기] 버튼 클릭
         │
         ▼
┌─────────────────┐
│   사용자 입력   │ → 분석 옵션: ["문화 분석", "연봉 분석"]
│   회사: 금고석유화학 │
└─────────────────┘
         │
         ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│  RAG 검색       │    │  MCP 데이터     │    │  에이전트       │
│                 │    │  수집           │    │  실행           │
│ • 회사 리뷰     │───▶│                 │───▶│                 │
│ • 문화 정보     │    │ • Blind 데이터  │    │ • CultureAgent  │
│ • 연봉 토론     │    │ • 채용 정보     │    │ • CompensationA │
└─────────────────┘    │ • 연봉 데이터   │    │ • (선택적)      │
                       │ • 뉴스          │    │                 │
                       └─────────────────┘    └─────────────────┘
                                                       │
                                                       ▼
                       ┌─────────────────────────────────────────┐
                       │             결과 통합                   │
                       │                                         │
                       │ • 문화 분석: 3.2/5.0 (강점/약점)       │
                       │ • 연봉 분석: 3.1/5.0 (차트/혜택)       │
                       │ • 종합 점수: 3.15/5.0                  │
                       └─────────────────────────────────────────┘
                                       │
                                       ▼
                       ┌─────────────────────────────────────────┐
                       │           시각화 표시                   │
                       │                                         │
                       │ • Plotly 차트 (연봉 분석)              │
                       │ • Expander UI (분석 결과)               │
                       │ • Metric 표시 (점수)                    │
                       │ • 진행률 바 (적합도)                     │
                       └─────────────────────────────────────────┘
```

## 🔧 5. 기술 스택 및 주요 특징

### 핵심 기술 스택
```
Frontend:    Streamlit (Interactive Web UI)
Workflow:    LangGraph StateGraph (Orchestration)
AI:          OpenAI GPT-4 (Language Model)
Vector DB:   ChromaDB (RAG Knowledge Base)
Integration: MCP Protocol (External Data)
Backend:     FastAPI (Optional API Server)
Language:    Python 3.11+ (Main Development)
```

### 주요 특징
1. **📊 LangGraph StateGraph**: 상태 기반 워크플로우 관리
2. **🤖 멀티 에이전트**: 전문화된 AI 에이전트 협업
3. **🔍 RAG + MCP**: 내부 지식 + 외부 API 통합
4. **⚡ 병렬 처리**: 성능 최적화를 위한 비동기 실행
5. **🎯 개인화**: 사용자 프로필 기반 맞춤 분석
6. **📱 3탭 UI**: 직관적인 사용자 경험
7. **🔧 모듈화**: 확장 가능한 아키텍처 설계
8. **📈 시각화**: 실시간 분석 결과 차트

이 아키텍처는 확장성과 유지보수성을 고려하여 설계되었으며, 각 컴포넌트가 독립적으로 발전할 수 있도록 구성되어 있습니다.

---

**📝 문서 작성일**: 2025년 8월 22일  
**🔄 마지막 업데이트**: v1.0 - 초기 아키텍처 문서화  
**👨‍💻 작성자**: BlindInsight AI 개발팀