# BlindInsight AI - 데이터 흐름도 (한글 버전)

## RAG + MCP 통합 데이터 처리 흐름

```mermaid
graph TD
    사용자요청[사용자 분석 요청] --> 요청생성[AnalysisRequest 생성]
    요청생성 --> 상태초기화[WorkflowState 초기화]
    상태초기화 --> 워크플로우실행[LangGraph StateGraph 실행]
    
    워크플로우실행 --> RAG검색[RAG 검색 - ChromaDB]
    워크플로우실행 --> MCP서비스[MCP 서비스 호출]
    
    RAG검색 --> 문화리뷰[culture_reviews<br/>회사 문화 리뷰]
    RAG검색 --> 연봉토론[salary_discussions<br/>연봉 정보 토론]
    RAG검색 --> 커리어조언[career_advice<br/>커리어 조언]
    RAG검색 --> 면접리뷰[interview_reviews<br/>면접 후기]
    RAG검색 --> 회사정보[company_general<br/>일반 회사 정보]
    
    MCP서비스 --> 블라인드제공자[BlindDataProvider<br/>Blind.com 데이터]
    MCP서비스 --> 채용사이트제공자[JobSiteProvider<br/>채용 사이트 정보]
    MCP서비스 --> 연봉데이터제공자[SalaryDataProvider<br/>연봉 데이터]
    MCP서비스 --> 뉴스제공자[CompanyNewsProvider<br/>회사 뉴스]
    
    문화리뷰 --> LLM분석[LLM 분석 - OpenAI GPT-4]
    연봉토론 --> LLM분석
    커리어조언 --> LLM분석
    면접리뷰 --> LLM분석
    회사정보 --> LLM분석
    
    블라인드제공자 --> LLM분석
    채용사이트제공자 --> LLM분석
    연봉데이터제공자 --> LLM분석
    뉴스제공자 --> LLM분석
    
    LLM분석 --> 에이전트결과[각 에이전트 분석 결과]
    에이전트결과 --> 문화보고서[Culture Report<br/>문화 분석 결과]
    에이전트결과 --> 연봉보고서[Compensation Report<br/>연봉 분석 결과]
    에이전트결과 --> 성장보고서[Growth Report<br/>성장성 분석 결과]
    에이전트결과 --> 커리어보고서[Career Report<br/>커리어 분석 결과]
    
    문화보고서 --> 결과통합[SynthesisNode - 결과 통합]
    연봉보고서 --> 결과통합
    성장보고서 --> 결과통합
    커리어보고서 --> 결과통합
    
    결과통합 --> 보고서생성[ReportGenerationNode]
    보고서생성 --> 최종보고서[최종 종합 분석 보고서]
    
    classDef 사용자클래스 fill:#e3f2fd,stroke:#333,stroke-width:2px
    classDef 처리클래스 fill:#fff3e0,stroke:#333,stroke-width:2px
    classDef 데이터클래스 fill:#f3e5f5,stroke:#333,stroke-width:2px
    classDef LLM클래스 fill:#fce4ec,stroke:#333,stroke-width:2px
    classDef 결과클래스 fill:#e8f5e8,stroke:#333,stroke-width:2px
    
    class 사용자요청,요청생성 사용자클래스
    class 상태초기화,워크플로우실행,결과통합,보고서생성 처리클래스
    class RAG검색,MCP서비스,문화리뷰,연봉토론,커리어조언,면접리뷰,회사정보,블라인드제공자,채용사이트제공자,연봉데이터제공자,뉴스제공자 데이터클래스
    class LLM분석 LLM클래스
    class 에이전트결과,문화보고서,연봉보고서,성장보고서,커리어보고서,최종보고서 결과클래스
```

## 데이터 소스별 특징

### 📊 RAG 시스템 (ChromaDB)
- **Vector Database**: 의미론적 유사도 검색
- **컬렉션 분류**: 문화, 연봉, 커리어, 면접, 일반 정보로 체계화
- **검색 방식**: 사용자 질의와 유사한 문서 자동 검색

### 🔗 MCP 서비스 (Model Context Protocol)
- **실시간 데이터**: 외부 API를 통한 최신 정보 수집
- **다양한 소스**: Blind, 채용사이트, 연봉정보, 뉴스 통합
- **동적 연동**: 필요에 따라 실시간으로 데이터 수집

### 🤖 LLM 분석 (OpenAI GPT-4)
- **통합 분석**: RAG + MCP 데이터를 종합적으로 분석
- **전문화**: 각 에이전트별 특화된 분석 수행
- **품질 보장**: 결과 검증 및 신뢰도 점수 제공