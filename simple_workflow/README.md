# 🎯 LangGraph 간단한 워크플로우 - 학습용

BlindInsight의 복잡한 워크플로우를 이해하기 위한 초보자용 간단 버전입니다.

## 📁 파일 구성

```
simple_workflow/
├── simple_state.py    # 상태 관리 (데이터 저장소)
├── simple_nodes.py    # 노드 구현 (실제 작업 수행)
├── simple_graph.py    # 워크플로우 구성 (노드들 연결)
└── README.md          # 이 파일
```

## 🎓 학습 순서

### 1단계: 상태(State) 이해하기
```bash
cd simple_workflow
python simple_state.py
```

**배우는 것**:
- 상태가 워크플로우 전체에서 어떻게 공유되는지
- Pydantic으로 타입 안전성 확보하는 방법
- 상태가 어떻게 변경되고 추적되는지

### 2단계: 노드(Nodes) 이해하기  
```bash
python simple_nodes.py
```

**배우는 것**:
- 각 노드가 상태를 받아서 처리하는 패턴
- 노드가 어떻게 상태를 수정하고 반환하는지
- 실제 작업(AI 분석)을 시뮬레이션하는 방법

### 3단계: 그래프(Graph) 이해하기
```bash
# LangGraph 없이 (수동 실행)
python simple_graph.py

# LangGraph 설치 후
pip install langgraph
python simple_graph.py
```

**배우는 것**:
- StateGraph로 노드들을 연결하는 방법
- 실행 순서를 엣지로 정의하는 방법
- 수동 실행 vs LangGraph 자동 실행의 차이

## 🔍 원본과의 비교

### 간단한 버전 (이 폴더):
- **상태**: 8개 필드, 기본적인 로깅
- **노드**: 5개, 순차 실행만
- **복잡도**: 초보자도 이해하기 쉬움

### 실제 복잡한 버전 (`src/blindinsight/workflow/`):
- **상태**: 40+ 필드, 복잡한 타입, 에러 처리, 성능 메트릭
- **노드**: 8개, 병렬 처리, 에러 복구, 조건부 분기
- **복잡도**: 실제 프로덕션 수준

## 🚀 실제 실행 결과 예시

```
🎯 토스 분석 시작...
==================================================
1️⃣ 입력 검증 중...
   상태: 입력 검증

2️⃣ 문화 분석 중...
   결과: 문화 점수 8/10

3️⃣ 연봉 분석 중...  
   결과: 신입: 5000-6000만원, 5년차: 8000-1억원

4️⃣ 성장성 분석 중...
   결과: 성장 점수 9/10

5️⃣ 보고서 생성 중...
   완료!

📋 최종 결과:
==================================================

🏢 토스 분석 보고서
==================================================

📊 분석 결과:
- 문화 점수: 8/10
- 성장 점수: 9/10
- 종합 점수: 8.5/10

💰 연봉 정보:
신입: 5000-6000만원, 5년차: 8000-1억원

🎯 종합 평가:
⭐ 추천! 매우 좋은 회사입니다.
```

## 🔧 커스터마이징 해보기

### 새로운 노드 추가하기
1. `simple_nodes.py`에 새 함수 추가:
```python
def work_life_balance_node(state: SimpleState) -> SimpleState:
    state.move_to_step("워라밸 분석")
    # 분석 로직 구현
    return state
```

2. `simple_graph.py`에서 그래프에 추가:
```python
workflow.add_node("워라밸분석", work_life_balance_node)
workflow.add_edge("성장분석", "워라밸분석")  # 연결 수정
workflow.add_edge("워라밸분석", "보고서생성")
```

### 상태에 새 필드 추가하기
`simple_state.py`에서:
```python
work_life_balance: Optional[int] = Field(None, description="워라밸 점수")
```

### 병렬 처리 추가하기
여러 노드를 동시에 실행하려면 `asyncio.gather()` 사용.

## 💡 다음 학습 단계

1. **이 간단한 버전 완전히 이해하기**
2. **실제 `src/blindinsight/workflow/` 코드 읽어보기**  
3. **한 번에 하나씩 기능 추가해보기**:
   - 에러 처리 추가
   - 병렬 처리 구현
   - AI 에이전트 연동
   - 체크포인팅 기능
4. **최종적으로 실제 프로젝트 수준으로 확장**

## 🎯 핵심 개념 정리

- **상태(State)**: 모든 노드가 공유하는 데이터 저장소
- **노드(Node)**: `state → 작업 → modified_state` 패턴의 함수
- **그래프(Graph)**: 노드들의 실행 순서와 연결을 정의
- **워크플로우**: 전체 과정을 자동으로 실행하는 시스템

이 간단한 버전으로 LangGraph의 핵심을 이해한 후, 점진적으로 복잡한 기능들을 추가해나가시면 됩니다! 🚀